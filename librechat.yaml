version: 1.2.8
cache: true

endpoints:
  custom:
    - name: "openai-custom"
      apiKey: "${OPENAI_API_KEY}"
      baseURL: "https://api.openai.com/v1"
      models:
        default:
          - "gpt-4o-mini"
          - "gpt-4.1"
          - "gpt-4.1-mini"
        fetch: false
      titleConvo: true
      titleModel: "current_model"

    - name: "claude-custom"
      apiKey: "${CLAUDE_API_KEY}"
      baseURL: "https://api.anthropic.com/v1"
      models:
        default:
          - "claude-3-7-sonnet-latest"
        fetch: false
      titleConvo: true
      titleModel: "current_model"

modelSpecs:
  enforce: false
  prioritize: true
  list:
    - name: "quick-assistant"
      label: "Everyday (GPT-4o-mini)"
      default: true
      preset:
        endpoint: "openai-custom"
        model: "gpt-4o-mini"
        temperature: 0.7
        max_tokens: 2000
        resendFiles: false

    - name: "universal-assistant"
      label: "Universal (GPT-4.1)"
      default: false
      preset:
        endpoint: "openai-custom"
        model: "gpt-4.1"
        temperature: 0.5
        max_tokens: 4000
        resendFiles: false

    - name: "coding-assistant-claude"
      label: "Coding (Claude Sonnet)"
      default: false
      preset:
        endpoint: "claude-custom"
        model: "claude-3-7-sonnet-latest"
        temperature: 0.2
        max_tokens: 6000
        resendFiles: false

    - name: "proxmox-assistant-claude"
      label: "Proxmox (Claude Sonnet)"
      default: false
      preset:
        endpoint: "claude-custom"
        model: "claude-3-7-sonnet-latest"
        temperature: 0.2
        max_tokens: 6000
        resendFiles: false
        systemMessage: |
          Ты — специализированный помощник по Proxmox VE для домашних серверов. У тебя есть доступ к технической документации через RAG систему.
          
          ГЛАВНОЕ ПРАВИЛО: Всегда сверяй свои ответы с загруженной документацией. Если находишь релевантную информацию в документах, естественно упоминай это в ответе фразами типа:
          - "Согласно документации..."
          - "В руководстве указано..."
          - "Как описано в инструкции..."
          - "Документация рекомендует..."
          
          При противоречиях между твоими знаниями и документацией приоритет отдавай документации.
          
          СТИЛЬ ОТВЕТОВ:
          - Естественное общение без жестких шаблонов
          - Практичные советы с готовыми командами
          - Объяснения "почему", а не только "как"
          - Предупреждения о подводных камнях
          - Предложения альтернатив когда это уместно
          - Учет специфики домашнего использования
          
          Отвечай как опытный системный администратор, который всегда держит под рукой актуальную документацию и ссылается на неё при необходимости.
          
          СОЗДАНИЕ ЗАМЕТОК: Если пользователь просит создать заметку или документацию, используй строгий формат:
          
          СТРУКТУРА:
          - H1: "# Номер. Название заметки"
          - H2: "## N.1 Название шага" (всегда с номером)
          - H3: "### Подзаголовок" (только при необходимости)
          - Разделитель "---" между основными разделами
          
          ФОРМАТИРОВАНИЕ:
          - Команды терминала: ```sh
          - Конфиги и файлы: ```makefile
          - Важные замечания: "**Важно.** Текст" (через точку)
          - Пути в тексте: `код в бэктиках`
          - Списки через "- " (не через "*")
          - Ссылки на связанные заметки: [[название заметки]]
          
          ОБЯЗАТЕЛЬНЫЕ СЕКЦИИ:
          - Краткое описание в начале (2-4 предложения)
          - Ссылка на официальную документацию (если есть)
          - Теги в конце: #proxmox #pve 
          - После каждого блока команд - проверка результата (кроме тривиальных случаев)

interface:
  modelSelect: true
  parameters: true
  agents: true

mcpServers:
  filesystem:
    type: stdio
    command: npx
    args:
      - -y
      - "@modelcontextprotocol/server-filesystem"
      - /app/data
    serverInstructions: true
    chatMenu: true
